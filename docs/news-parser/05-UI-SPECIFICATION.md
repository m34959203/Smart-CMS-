# UI Спецификация: Система Мониторинга Актуальных Тем

## Навигация

Добавить в боковое меню админ-панели:

```
📰 Статьи
📂 Категории
🏷️ Теги
📊 Журнал
📢 Реклама
⚙️ Настройки
─────────────────
🔥 Лента новостей    ← НОВЫЙ РАЗДЕЛ
```

---

## Страница 1: Горячие Темы

**URL:** `/admin/news-feed`

### Макет

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 🔥 Актуальные темы                              Обновлено: 5 мин назад  │
│                                                 [🔄 Обновить]           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Период: [24 часа ▼]   Категория: [Все ▼]   Сортировка: [Тренд ▼]   │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ 1. 🏛️ Президенттің Жолдауы / Послание Президента         🔥🔥🔥   │ │
│ │    ─────────────────────────────────────────────────────────────── │ │
│ │    📰 47 упоминаний  │  🌐 12 источников  │  ⏱️ 4 часа назад       │ │
│ │                                                                     │ │
│ │    Ключевые слова: президент, жолдау, реформа, экономика           │ │
│ │                                                                     │ │
│ │    [✏️ Создать статью]  [📖 Подробнее]                              │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ 2. ⚽ Қазақстан құрамасы финалға шықты / Сборная в финале  🔥🔥    │ │
│ │    ─────────────────────────────────────────────────────────────── │ │
│ │    📰 32 упоминания  │  🌐 8 источников   │  ⏱️ 2 часа назад       │ │
│ │                                                                     │ │
│ │    Ключевые слова: футбол, құрама, финал, спорт                    │ │
│ │                                                                     │ │
│ │    [✏️ Создать статью]  [📖 Подробнее]                              │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ 3. 🌡️ Солтүстікте қатты аяз / Сильные морозы на севере    🔥      │ │
│ │    ─────────────────────────────────────────────────────────────── │ │
│ │    📰 28 упоминаний  │  🌐 6 источников   │  ⏱️ 6 часов назад      │ │
│ │                                                                     │ │
│ │    [✏️ Создать статью]  [📖 Подробнее]                              │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│                        [Загрузить ещё]                                   │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

### Компоненты

#### TopicCard

```tsx
interface TopicCardProps {
  topic: {
    id: string;
    titleKz: string;
    titleRu: string;
    keywords: string[];
    category: string;
    mentionsCount: number;
    sourcesCount: number;
    trendScore: number;
    firstSeenAt: string;
  };
  onCreateArticle: (id: string) => void;
  onViewDetails: (id: string) => void;
}

function TopicCard({ topic, onCreateArticle, onViewDetails }: TopicCardProps) {
  const trendLevel = getTrendLevel(topic.trendScore); // 1-3

  return (
    <div className="border rounded-lg p-4 hover:shadow-md transition">
      <div className="flex justify-between items-start">
        <div>
          <h3 className="text-lg font-semibold">
            {getCategoryEmoji(topic.category)} {topic.titleKz}
          </h3>
          <p className="text-sm text-gray-500">{topic.titleRu}</p>
        </div>
        <TrendBadge level={trendLevel} />
      </div>

      <div className="flex gap-4 mt-3 text-sm text-gray-600">
        <span>📰 {topic.mentionsCount} упоминаний</span>
        <span>🌐 {topic.sourcesCount} источников</span>
        <span>⏱️ {formatTimeAgo(topic.firstSeenAt)}</span>
      </div>

      <div className="mt-2">
        <span className="text-xs text-gray-500">Ключевые слова: </span>
        {topic.keywords.slice(0, 5).map(kw => (
          <span key={kw} className="text-xs bg-gray-100 px-2 py-1 rounded mr-1">
            {kw}
          </span>
        ))}
      </div>

      <div className="flex gap-2 mt-4">
        <button
          onClick={() => onCreateArticle(topic.id)}
          className="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"
        >
          ✏️ Создать статью
        </button>
        <button
          onClick={() => onViewDetails(topic.id)}
          className="px-4 py-2 border rounded hover:bg-gray-50"
        >
          📖 Подробнее
        </button>
      </div>
    </div>
  );
}
```

#### TrendBadge

```tsx
function TrendBadge({ level }: { level: 1 | 2 | 3 }) {
  const flames = '🔥'.repeat(level);
  const colors = {
    1: 'bg-yellow-100 text-yellow-800',
    2: 'bg-orange-100 text-orange-800',
    3: 'bg-red-100 text-red-800',
  };

  return (
    <span className={`px-2 py-1 rounded text-sm ${colors[level]}`}>
      {flames}
    </span>
  );
}
```

---

## Страница 2: Детали Темы

**URL:** `/admin/news-feed/topics/:id`

### Макет

```
┌─────────────────────────────────────────────────────────────────────────┐
│ ← Назад к списку                                                        │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ 🏛️ Президенттің Жолдауы                                       🔥🔥🔥  │
│ Послание Президента                                                     │
│                                                                          │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │  📊 Статистика                                                      │ │
│ │  ──────────────────────────────────────────────────────────────────│ │
│ │                                                                     │ │
│ │  Упоминаний      Источников       Первое           Пик             │ │
│ │  ┌────────┐      ┌────────┐      ┌────────┐      ┌────────┐        │ │
│ │  │   47   │      │   12   │      │ 10:30  │      │ 14:00  │        │ │
│ │  └────────┘      └────────┘      └────────┘      └────────┘        │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │  Ключевые слова:                                                    │ │
│ │  [президент] [жолдау] [послание] [реформа] [экономика] [2025]      │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │  [✏️ Создать статью на казахском]  [✏️ Создать статью на русском]  │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ 📰 Источники (12)                                                       │
│ ─────────────────────────────────────────────────────────────────────── │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ 🔵 Tengrinews.kz                                          10:32    │ │
│ │    "Токаев объявил о новых реформах в Послании"                    │ │
│ │    [🔗 Открыть источник]                                            │ │
│ ├─────────────────────────────────────────────────────────────────────┤ │
│ │ 🔵 Inform.kz                                              10:45    │ │
│ │    "Полный текст Послания Президента 2025"                         │ │
│ │    [🔗 Открыть источник]                                            │ │
│ ├─────────────────────────────────────────────────────────────────────┤ │
│ │ 🔵 24.kz                                                  11:00    │ │
│ │    "Главные тезисы Послания Токаева"                               │ │
│ │    [🔗 Открыть источник]                                            │ │
│ ├─────────────────────────────────────────────────────────────────────┤ │
│ │ 🔵 Kazinform.kz                                           11:15    │ │
│ │    "Президент анонсировал экономические реформы"                   │ │
│ │    [🔗 Открыть источник]                                            │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│                        [Показать все 12 источников]                      │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## Страница 3: Лента Новостей

**URL:** `/admin/news-feed/latest`

### Макет

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 📰 Последние новости                            Обновлено: 2 мин назад  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Источник: [Все ▼]   Язык: [Все ▼]   Период: [24 часа ▼]            │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ 14:45  │ 🔵 Tengrinews │ Токаев встретился с премьером Узбекистана │ │
│ │        │               │ [🔗]                                       │ │
│ ├────────┼───────────────┼───────────────────────────────────────────┤ │
│ │ 14:42  │ 🔵 Inform.kz  │ Курс доллара на 5 января                  │ │
│ │        │               │ [🔗]                                       │ │
│ ├────────┼───────────────┼───────────────────────────────────────────┤ │
│ │ 14:38  │ 🔵 24.kz      │ Прогноз погоды на выходные                │ │
│ │        │               │ [🔗]                                       │ │
│ ├────────┼───────────────┼───────────────────────────────────────────┤ │
│ │ 14:35  │ 🔵 NUR.kz     │ Изменения в пенсионной системе            │ │
│ │        │               │ [🔗]  [🏷️ Пенсия]                          │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
│                        [Загрузить ещё]                                   │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## Страница 4: Управление Источниками (Admin)

**URL:** `/admin/news-feed/sources`

### Макет

```
┌─────────────────────────────────────────────────────────────────────────┐
│ ⚙️ Источники новостей                            [+ Добавить источник]  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│ ┌──────────────┬────────┬──────────┬───────────┬──────────┬───────────┐ │
│ │ Источник     │ Тип    │ Приоритет│ Статус    │ Последний│ Действия  │ │
│ ├──────────────┼────────┼──────────┼───────────┼──────────┼───────────┤ │
│ │ Tengrinews   │ RSS    │ ⭐⭐⭐    │ ✅ OK     │ 2 мин    │ [⚙️][▶️]  │ │
│ │ Inform.kz    │ RSS    │ ⭐⭐⭐    │ ✅ OK     │ 2 мин    │ [⚙️][▶️]  │ │
│ │ 24.kz        │ HTML   │ ⭐⭐⭐    │ ✅ OK     │ 5 мин    │ [⚙️][▶️]  │ │
│ │ NUR.kz       │ RSS    │ ⭐⭐     │ ✅ OK     │ 8 мин    │ [⚙️][▶️]  │ │
│ │ Orda.kz      │ HTML   │ ⭐⭐     │ ⚠️ Ошибка │ 1 час    │ [⚙️][▶️]  │ │
│ │ Vlast.kz     │ HTML   │ ⭐⭐     │ 🔴 Выкл   │ -        │ [⚙️][▶️]  │ │
│ └──────────────┴────────┴──────────┴───────────┴──────────┴───────────┘ │
│                                                                          │
│ Легенда: ⚙️ = Настроить  ▶️ = Запустить парсинг                         │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## Мобильная Версия

### Список тем (мобильный)

```
┌─────────────────────────────┐
│ 🔥 Темы          [🔄]       │
├─────────────────────────────┤
│                             │
│ ┌─────────────────────────┐ │
│ │ 🏛️ Послание Президента  │ │
│ │ 47 упом. │ 12 ист.│🔥🔥🔥│ │
│ │ [Создать]  [Подробнее]  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │ ⚽ Сборная в финале     │ │
│ │ 32 упом. │ 8 ист. │🔥🔥 │ │
│ │ [Создать]  [Подробнее]  │ │
│ └─────────────────────────┘ │
│                             │
└─────────────────────────────┘
```

---

## Цветовая Схема

| Элемент | Цвет |
|---------|------|
| Кнопка "Создать статью" | `bg-green-600` |
| Тренд высокий (3) | `bg-red-100 text-red-800` |
| Тренд средний (2) | `bg-orange-100 text-orange-800` |
| Тренд низкий (1) | `bg-yellow-100 text-yellow-800` |
| Статус OK | `text-green-600` |
| Статус ошибка | `text-red-600` |
| Источник badge | `bg-blue-100 text-blue-800` |

---

## Иконки Категорий

```typescript
const categoryEmojis: Record<string, string> = {
  POLITICS: '🏛️',
  ECONOMY: '💰',
  SOCIETY: '👥',
  SPORT: '⚽',
  CULTURE: '🎭',
  WORLD: '🌍',
  TECH: '💻',
  INCIDENTS: '🚨',
};
```

---

## Состояния Загрузки

### Skeleton для TopicCard

```tsx
function TopicCardSkeleton() {
  return (
    <div className="border rounded-lg p-4 animate-pulse">
      <div className="h-6 bg-gray-200 rounded w-3/4 mb-2" />
      <div className="h-4 bg-gray-200 rounded w-1/2 mb-4" />
      <div className="flex gap-4">
        <div className="h-4 bg-gray-200 rounded w-24" />
        <div className="h-4 bg-gray-200 rounded w-24" />
        <div className="h-4 bg-gray-200 rounded w-24" />
      </div>
      <div className="flex gap-2 mt-4">
        <div className="h-10 bg-gray-200 rounded w-32" />
        <div className="h-10 bg-gray-200 rounded w-28" />
      </div>
    </div>
  );
}
```

---

## Уведомления

### Toast при создании статьи

```tsx
toast.success('Черновик статьи создан', {
  description: 'Перенаправление в редактор...',
  action: {
    label: 'Открыть',
    onClick: () => router.push(`/admin/articles/${articleId}`),
  },
});
```

### Toast при ошибке

```tsx
toast.error('Не удалось загрузить темы', {
  description: 'Проверьте подключение к интернету',
  action: {
    label: 'Повторить',
    onClick: () => refetch(),
  },
});
```
